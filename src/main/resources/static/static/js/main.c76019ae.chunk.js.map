{"version":3,"sources":["reportWebVitals.js","i18n.js","components/Input.js","components/ButtonWithProgress.js","shared/ApiProgress.js","redux/Constants.js","api/apiCalls.js","redux/authActions.js","pages/UserSignupPage.js","pages/LoginPage.js","components/LanguageSelector.js","assets/profile.png","components/ProfileImageWithDefault.js","components/Modal.js","components/HoaxView.js","components/Spinner.js","components/HoaxFeed.js","components/AutoUploadImage.js","components/HoaxSubmit.js","components/UserListItem.js","components/UserList.js","pages/HomePage.js","components/ProfileCard.js","pages/UserPage.js","assets/hoaxify.png","components/TopBar.js","container/App.js","redux/authReducer.js","redux/configureStore.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","i18n","use","initReactI18next","init","resources","en","translations","tr","fallbackLng","ns","defaultNS","keySeparator","interpolation","escapeValue","formatSeparator","react","wait","register","number","index","Input","props","label","error","name","onChange","type","defaultValue","className","undefined","ButtonWithProgress","onClick","pendingApiCall","disabled","text","useApiProgress","apiMethod","apiPath","strictPath","useState","setPendingApiCall","useEffect","requestInterceptor","responseInterceptor","updateApiCallFor","method","url","inProgress","startsWith","axios","interceptors","request","response","config","eject","LOGOUT_SUCCESS","LOGIN_SUCCESS","UPDATE_SUCCESS","getUsers","page","size","get","setAuthorizationHeader","isLoggedIn","token","authorizationHeaderValue","defaults","headers","getUser","username","updateUser","body","put","postHoax","hoax","post","getHoaxes","path","getOldHoaxes","id","getNewHoaxCount","getNewHoaxes","postHoaxAttachment","attachment","deleteHoax","delete","deleteUser","logoutSuccess","dispatch","a","ACTIONS","loginSuccess","authState","payload","updateSuccess","displayName","image","loginHandler","credentials","creds","data","user","password","signupHandler","UserSignupPage","passwordRepeatError","useDispatch","passwordRepeat","form","setForm","errors","setErrors","event","target","value","previousError","previousForm","onClickSignup","preventDefault","history","push","validationErrors","t","useTranslation","usernameError","displayNameError","passwordError","pendingApiCallSignup","pendingApiCallLogin","LoginPage","setUsername","setPassword","setError","onClickLogin","message","buttonEnabled","role","LanguageSelector","onChangeLanguage","language","changeLanguage","src","alt","style","cursor","ProfileImageWithDefault","tempimage","imageSource","defaultPicture","onError","Modal","visible","onClickCancel","onClickConfirm","title","confirmButton","backgroundColor","HoaxView","loggedInUser","useSelector","store","onDeleteHoax","content","timestamp","fileAttachment","modalVisible","setModalVisible","onClickDelete","formatted","format","ownedByLoggedInUser","width","height","to","fileType","Spinner","HoaxFeed","last","hoaxPage","setHoaxPage","newHoaxCount","setNewHoaxCount","useParams","initialHoaxLoadProgress","lastHoaxId","firstHoaxId","length","lastHoaxIndex","oldHoaxPath","loadOldHoaxesProgress","newHoaxPath","loadNewHoaxesProgress","looper","setInterval","count","clearInterval","previousHoaxPage","loadHoaxes","loadOldHoaxes","loadNewHoaxes","onDeleteHoaxSuccess","filter","map","AutoUploadImage","uploading","position","opacity","HoaxSubmit","focused","setFocused","setHoax","newImage","setNewImage","attachmentId","setAttachmentId","pendingFileUpload","onClickHoaxify","uploadFile","file","FormData","append","textAreaClass","rows","onFocus","files","fileReader","FileReader","onloadend","result","readAsDataURL","UserListItem","UserList","setPage","loadFailure","setLoadFailure","laodUsers","users","first","actionDiv","previousPage","nextPage","HomePage","ProfileCard","inEditMode","setInEditMode","updatedDisplayName","setUpdatedDisplayName","loggedInUsername","pathUsername","setUser","editable","setEditable","setValidationErrors","useHistory","pendingApiCallDeleteUser","previousValidationErrors","onClickSave","split","onClickDeleteUser","imageError","UserPage","notFound","setNotFound","loadUser","fontSize","TopBar","menuArea","useRef","menuVisible","setMenuVisible","document","addEventListener","menuClickTracker","removeEventListener","current","contains","links","dropDownClass","ref","logo","App","exact","component","defaultState","authReducer","state","action","secureLs","SecureLS","initialState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","subscribe","newState","getState","set","configureStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c76019ae.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport { register } from 'timeago.js';\r\n\r\ni18n.use(initReactI18next).init({\r\n    resources: {\r\n        en: {\r\n            translations: {\r\n                'Sign Up': 'Sign Up',\r\n                'Password mismatch': 'Password mismatch',\r\n                'Username': 'Username',\r\n                'Display Name': 'Display Name',\r\n                'Password': 'Password',\r\n                'Password Repeat': 'Password Repeat',\r\n                'Login': 'Login',\r\n                'Logout': 'Logout',\r\n                'Users': 'Users',\r\n                'Next': 'next >',\r\n                'Previous': '< previous',\r\n                'Load Failure': 'Load Failure',\r\n                'User not found': 'User not found',\r\n                'Edit': 'Edit',\r\n                'Save': 'Save',\r\n                'Cancel': 'Cancel',\r\n                'Change Display Name': 'Change Display Name',\r\n                'My Profile': 'My Profile',\r\n                'There are no hoaxes': 'There are no hoaxes',\r\n                'Load old hoaxes': 'Load old hoaxes',\r\n                'There are new hoaxes': 'There are new hoaxes',\r\n                'Delete Hoax': 'Delete Hoax',\r\n                'Are you sure to delete hoax?': 'Are you sure to delete hoax?',\r\n                'Delete My Account': 'Delete My Account',\r\n                'Are you sure to delete your account?': 'Are you sure to delete your account?'\r\n            }\r\n        },\r\n        tr: {\r\n            translations: {\r\n                'Sign Up': 'Kayıt Ol',\r\n                'Password mismatch': 'Aynı şifreyi giriniz',\r\n                'Username': 'Kullanıcı Adı',\r\n                'Display Name': 'Tercih Edilen Ad',\r\n                'Password': 'Şifre',\r\n                'Password Repeat': 'Şifre Tekrar',\r\n                'Login': 'Giriş',\r\n                'Logout': 'Çıkış',\r\n                'Users': 'Kullanıcılar',\r\n                'Next': 'sonraki >',\r\n                'Previous': '< önceki',\r\n                'Load Failure': 'Liste alınamadı',\r\n                'User not found': 'Kullanıcı bulunamadı',\r\n                'Edit': 'Düzenle',\r\n                'Save': 'Kaydet',\r\n                'Cancel': 'İptal',\r\n                'Change Display Name': 'Görünür İsminizi Değiştirin',\r\n                'My Profile': 'Hesabım',\r\n                'There are no hoaxes': 'Hoax bulunamadı',\r\n                'Load old hoaxes': 'Geçmiş Hoaxları getir',\r\n                'There are new hoaxes': 'Yeni hoaxlar var',\r\n                'Delete Hoax': `Hoax'u sil`,\r\n                'Are you sure to delete hoax?': `Hoax'u silmek istediğinizden emin misiniz?`,\r\n                'Delete My Account': 'Hesabımı sil',\r\n                'Are you sure to delete your account?': 'Hesabınızı silmek istediğinizden emin misiniz?'\r\n            }\r\n        }\r\n    },\r\n    fallbackLng: 'tr',\r\n    ns: ['translations'],\r\n    defaultNS: 'translations',\r\n    keySeparator: false,\r\n    interpolation: {\r\n        escapeValue: false,\r\n        formatSeparator: ','\r\n    },\r\n    react: {\r\n        wait: true\r\n    }\r\n});\r\n\r\nconst timeageTR = (number, index) => {\r\n    return [\r\n        ['az önce', 'şimdi'],\r\n        ['%s saniye önce', '%s saniye içinde'],\r\n        ['1 dakika önce', '1 dakika içinde'],\r\n        ['%s dakika önce', '%s dakika içinde'],\r\n        ['1 saat önce', '1 saat içinde'],\r\n        ['%s saat önce', '%s saat içinde'],\r\n        ['1 gün önce', '1 gün içinde'],\r\n        ['%s gün önce', '%s gün içinde'],\r\n        ['1 hafta önce', '1 hafta içinde'],\r\n        ['%s hafta önce', '%s hafta içinde'],\r\n        ['1 ay önce', '1 ay içinde'],\r\n        ['%s ay önce', '%s ay içinde'],\r\n        ['1 yıl önce', '1 yıl içinde'],\r\n        ['%s yıl önce', '%s yıl içinde'],\r\n    ][index];\r\n}\r\nregister('tr', timeageTR);\r\n\r\nexport default i18n;","import React from 'react';\r\n\r\nconst Input = (props) => {\r\n    const { label, error, name, onChange, type, defaultValue } = props;\r\n    let className = \"form-control\";\r\n    if (type === 'file') {\r\n        className += \"-file\"\r\n    }\r\n    if (error !== undefined) {\r\n        className += \" is-invalid\";\r\n    }\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label>{label}</label>\r\n            <input className={className} name={name} onChange={onChange} type={type} defaultValue={defaultValue} />\r\n            <div className=\"invalid-feedback\">\r\n                {error}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Input;","import React from 'react';\r\n\r\nconst ButtonWithProgress = (props) => {\r\n    const { onClick, pendingApiCall, disabled, text, className } = props;\r\n    return (\r\n        <button className={className || \"btn btn-primary\"} onClick={onClick} disabled={disabled}>\r\n            {pendingApiCall && <span className=\"spinner-border spinner-border-sm\"></span>}\r\n            {text}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default ButtonWithProgress;","import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport const useApiProgress = (apiMethod, apiPath, strictPath) => {\r\n    const [pendingApiCall, setPendingApiCall] = useState(false)\r\n\r\n    useEffect(() => {\r\n        let requestInterceptor, responseInterceptor;\r\n\r\n        const updateApiCallFor = (method, url, inProgress) => {\r\n            if (method !== apiMethod) {\r\n                return;\r\n            }\r\n            if (strictPath && url === apiPath) {\r\n                setPendingApiCall(inProgress)\r\n            }\r\n            if (!strictPath && url.startsWith(apiPath)) {\r\n                setPendingApiCall(inProgress)\r\n            }\r\n        }\r\n        const registerInterceptors = () => {\r\n            requestInterceptor = axios.interceptors.request.use((request) => {\r\n                const { url, method } = request;\r\n                updateApiCallFor(method, url, true)\r\n                return request;\r\n            })\r\n\r\n            responseInterceptor = axios.interceptors.response.use((response) => {\r\n                const { url, method } = response.config;\r\n                updateApiCallFor(method, url, false)\r\n                return response;\r\n            }, (error) => {\r\n                const { url, method } = error.config;\r\n                updateApiCallFor(method, url, false)\r\n                throw error;\r\n            })\r\n        }\r\n\r\n        const unregisterInterceptors = () => {\r\n            axios.interceptors.request.eject(requestInterceptor);\r\n            axios.interceptors.response.eject(responseInterceptor);\r\n        }\r\n        registerInterceptors();\r\n\r\n        return function unmount() {\r\n            unregisterInterceptors();\r\n        }\r\n    }, [apiPath, apiMethod, strictPath])\r\n\r\n    return pendingApiCall;\r\n}","export const LOGOUT_SUCCESS = 'logout-success';\r\nexport const LOGIN_SUCCESS = 'login-success';\r\nexport const UPDATE_SUCCESS = 'update-success'","import axios from 'axios';\r\n\r\nexport const signup = body => {\r\n    return axios.post('/api/1.0/users', body)\r\n}\r\n\r\nexport const login = creds => {\r\n    return axios.post('/api/1.0/auth', creds);\r\n}\r\n\r\nexport const logout = () => {\r\n    return axios.post('/api/1.0/logout');\r\n}\r\n\r\nexport const changeLanguage = language => {\r\n    axios.defaults.headers['accept-language'] = language;\r\n}\r\n\r\nexport const getUsers = (page = 0, size = 3) => {\r\n    return axios.get(`/api/1.0/users?page=${page}&size=${size}`);\r\n}\r\n\r\nexport const setAuthorizationHeader = ({ isLoggedIn, token }) => {\r\n    if (isLoggedIn) {\r\n        const authorizationHeaderValue = `Bearer ${token}`\r\n        axios.defaults.headers['Authorization'] = authorizationHeaderValue;\r\n    } else {\r\n        delete axios.defaults.headers['Authorization'];\r\n    }\r\n}\r\n\r\nexport const getUser = username => {\r\n    return axios.get(`/api/1.0/users/${username}`);\r\n}\r\n\r\nexport const updateUser = (username, body) => {\r\n    return axios.put(`/api/1.0/users/${username}`, body);\r\n}\r\n\r\nexport const postHoax = hoax => {\r\n    return axios.post('/api/1.0/hoaxes', hoax);\r\n}\r\n\r\nexport const getHoaxes = (username, page = 0) => {\r\n    const path = username ? `/api/1.0/users/${username}/hoaxes?page=` : '/api/1.0/hoaxes?page='\r\n    return axios.get(path + page);\r\n}\r\n\r\nexport const getOldHoaxes = (id, username) => {\r\n    const path = username ? `/api/1.0/users/${username}/hoaxes/${id}` : `/api/1.0/hoaxes/${id}`\r\n    return axios.get(path);\r\n}\r\n\r\nexport const getNewHoaxCount = (id, username) => {\r\n    const path = username ? `/api/1.0/users/${username}/hoaxes/${id}?count=true` : `/api/1.0/hoaxes/${id}?count=true`\r\n    return axios.get(path);\r\n}\r\n\r\nexport const getNewHoaxes = (id, username) => {\r\n    const path = username ? `/api/1.0/users/${username}/hoaxes/${id}?direction=after` : `/api/1.0/hoaxes/${id}?direction=after`\r\n    return axios.get(path);\r\n}\r\n\r\nexport const postHoaxAttachment = attachment => {\r\n    return axios.post(`/api/1.0/hoax-attachments`, attachment);\r\n}\r\n\r\nexport const deleteHoax = id => {\r\n    return axios.delete(`/api/1.0/hoaxes/${id}`)\r\n}\r\n\r\nexport const deleteUser = username => {\r\n    return axios.delete(`/api/1.0/users/${username}`)\r\n}","import * as ACTIONS from './Constants'\r\nimport { login, signup, logout } from '../api/apiCalls'\r\n\r\nexport const logoutSuccess = () => {\r\n    return async function (dispatch) {\r\n        try {\r\n            await logout();\r\n        } catch (err) {\r\n\r\n        }\r\n        dispatch({\r\n            type: ACTIONS.LOGOUT_SUCCESS\r\n        })\r\n    }\r\n}\r\n\r\nexport const loginSuccess = (authState) => {\r\n    return {\r\n        type: ACTIONS.LOGIN_SUCCESS,\r\n        payload: authState\r\n    }\r\n}\r\n\r\nexport const updateSuccess = ({ displayName, image }) => {\r\n    return {\r\n        type: ACTIONS.UPDATE_SUCCESS,\r\n        payload: {\r\n            displayName, image\r\n        }\r\n    }\r\n}\r\n\r\nexport const loginHandler = credentials => {\r\n    return async function (dispatch) {\r\n        const response = await login(credentials);\r\n        const authState = {\r\n            ...response.data.user,\r\n            password: credentials.password,\r\n            token: response.data.token\r\n        }\r\n        dispatch(loginSuccess(authState))\r\n        return response;\r\n    }\r\n}\r\n\r\nexport const signupHandler = (user) => {\r\n    return async function (dispatch) {\r\n        const response = await signup(user);\r\n        await dispatch(loginHandler(user));\r\n        return response;\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport Input from '../components/Input'\r\nimport { useTranslation } from 'react-i18next'\r\nimport ButtonWithProgress from '../components/ButtonWithProgress';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport { useDispatch } from 'react-redux'\r\nimport { signupHandler } from '../redux/authActions';\r\n\r\nconst UserSignupPage = (props) => {\r\n    const dispatch = useDispatch();\r\n    const [form, setForm] = useState({\r\n        username: null,\r\n        displayName: null,\r\n        password: null,\r\n        passwordRepeat: null\r\n    })\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const onChange = event => {\r\n        const { name, value } = event.target;\r\n        setErrors((previousError) => ({ ...previousError, [name]: undefined }));\r\n        setForm((previousForm) => ({ ...previousForm, [name]: value }));\r\n    }\r\n\r\n    const onClickSignup = async event => {\r\n        event.preventDefault();\r\n        const { username, displayName, password } = form;\r\n        const { history } = props;\r\n        const { push } = history;\r\n\r\n        const body = {\r\n            username,\r\n            displayName,\r\n            password\r\n        }\r\n        try {\r\n            await dispatch(signupHandler(body));\r\n            push('/');\r\n        } catch (error) {\r\n            if (error.response.data.validationErrors) {\r\n                setErrors(error.response.data.validationErrors)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const { t } = useTranslation();\r\n    const { username: usernameError, displayName: displayNameError, password: passwordError } = errors;\r\n    const pendingApiCallSignup = useApiProgress('post', '/api/1.0/users');\r\n    const pendingApiCallLogin = useApiProgress('post', '/api/1.0/auth');\r\n    const pendingApiCall = pendingApiCallSignup || pendingApiCallLogin;\r\n\r\n    let passwordRepeatError;\r\n    if (form.password !== form.passwordRepeat) {\r\n        passwordRepeatError = t('Password mismatch');\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <form>\r\n                <h1 className=\"text-center\">{t('Sign Up')}</h1>\r\n\r\n                <Input name=\"username\" label={t(\"Username\")} error={usernameError} onChange={onChange} />\r\n                <Input name=\"displayName\" label={t(\"Display Name\")} error={displayNameError} onChange={onChange} />\r\n                <Input name=\"password\" label={t(\"Password\")} error={passwordError} onChange={onChange} type=\"password\" />\r\n                <Input name=\"passwordRepeat\" label={t(\"Password Repeat\")} error={passwordRepeatError} onChange={onChange} type=\"password\" />\r\n\r\n                <div className=\"text-center\">\r\n                    <ButtonWithProgress\r\n                        onClick={onClickSignup}\r\n                        disabled={pendingApiCall || passwordRepeatError !== undefined}\r\n                        pendingApiCall={pendingApiCall}\r\n                        text={t('Sign Up')} />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default UserSignupPage;","import React, { useEffect, useState } from 'react'\r\nimport Input from '../components/Input'\r\nimport { useTranslation } from 'react-i18next'\r\nimport ButtonWithProgress from '../components/ButtonWithProgress'\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginHandler } from '../redux/authActions'\r\n\r\nconst LoginPage = (props) => {\r\n\r\n    const [username, setUsername] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [error, setError] = useState();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        setError(undefined)\r\n    }, [username, password])\r\n\r\n    const onClickLogin = async event => {\r\n        event.preventDefault();\r\n        const creds = {\r\n            username,\r\n            password\r\n        }\r\n        const { history } = props;\r\n        const { push } = history;\r\n\r\n        setError(undefined);\r\n        try {\r\n            await dispatch(loginHandler(creds))\r\n            push(\"/\");\r\n        } catch (apiError) {\r\n            setError(apiError.response.data.message)\r\n        }\r\n    }\r\n\r\n    const { t } = useTranslation();\r\n    const pendingApiCall = useApiProgress('post', '/api/1.0/auth');\r\n    const buttonEnabled = username && password;\r\n    return (\r\n        <div className=\"container\">\r\n            <form>\r\n                <h1 className=\"text-center\">{t(\"Login\")}</h1>\r\n\r\n                <Input label={t(\"Username\")} onChange={event => { setUsername(event.target.value) }} />\r\n                <Input label={t(\"Password\")} type=\"password\" onChange={event => { setPassword(event.target.value) }} />\r\n                {error && <div className=\"alert alert-danger\" role=\"alert\">\r\n                    {error}\r\n                </div>}\r\n                <div className=\"text-center\">\r\n                    <ButtonWithProgress\r\n                        onClick={onClickLogin}\r\n                        disabled={!buttonEnabled || pendingApiCall}\r\n                        pendingApiCall={pendingApiCall}\r\n                        text={t('Login')} />\r\n                </div>\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next'\r\nimport { changeLanguage } from '../api/apiCalls'\r\n\r\n\r\nconst LanguageSelector = props => {\r\n    const { i18n } = useTranslation();\r\n    \r\n    const onChangeLanguage = language => {\r\n        i18n.changeLanguage(language);\r\n        changeLanguage(language);\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            <img src=\"https://www.countryflags.io/tr/flat/24.png\" alt=\"Turkish Flag\" onClick={() => onChangeLanguage(\"tr\")} style={{ cursor: \"pointer\" }}></img>\r\n            <img src=\"https://www.countryflags.io/us/flat/24.png\" alt=\"USA Flag\" onClick={() => onChangeLanguage(\"en\")} style={{ cursor: \"pointer\" }}></img>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default LanguageSelector;","export default __webpack_public_path__ + \"static/media/profile.06c30927.png\";","import React from 'react';\r\nimport defaultPicture from '../assets/profile.png'\r\n\r\n\r\nconst ProfileImageWithDefault = (props) => {\r\n    const { image, tempimage } = props;\r\n    let imageSource = defaultPicture;\r\n    if (image) {\r\n        imageSource = 'images/profile/' + image;\r\n    }\r\n\r\n    return (\r\n        <img alt={`Profile`} src={tempimage || imageSource} {...props} onError={event => { event.target.src = defaultPicture }} />);\r\n};\r\n\r\nexport default ProfileImageWithDefault;","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport ButtonWithProgress from './ButtonWithProgress'\r\n\r\nconst Modal = (props) => {\r\n    const { visible, onClickCancel, message, onClickConfirm, pendingApiCall, title, confirmButton } = props;\r\n    const { t } = useTranslation()\r\n\r\n    let className = \"modal fade\";\r\n    if (visible) {\r\n        className += ' show d-block';\r\n    }\r\n    return (\r\n        <div className={className} style={{ backgroundColor: \"#000000b0\" }}>\r\n            <div className=\"modal-dialog\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\">{title}</h5>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        {message}\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\" className=\"btn btn-secondary\" onClick={onClickCancel}>\r\n                            {t(\"Cancel\")}\r\n                        </button>\r\n                        <ButtonWithProgress\r\n                            type=\"button\"\r\n                            className=\"btn btn-danger\"\r\n                            onClick={onClickConfirm}\r\n                            pendingApiCall={pendingApiCall}\r\n                            disabled={pendingApiCall}\r\n                            text={confirmButton} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Modal;","import React, { Fragment, useState } from 'react';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport { Link } from 'react-router-dom'\r\nimport { format } from 'timeago.js'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useSelector } from 'react-redux';\r\nimport { deleteHoax } from '../api/apiCalls';\r\nimport Modal from './Modal';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\n\r\nconst HoaxView = (props) => {\r\n    const loggedInUser = useSelector(store => store.username);\r\n    const { hoax, onDeleteHoax } = props;\r\n    const { user, content, timestamp, fileAttachment, id } = hoax;\r\n    const { username, displayName, image } = user;\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n\r\n    const pendingApiCall = useApiProgress('delete', `/api/1.0/hoaxes/${id}`, true)\r\n\r\n    const { i18n, t } = useTranslation();\r\n\r\n    const onClickDelete = async () => {\r\n        await deleteHoax(id);\r\n        onDeleteHoax(id);\r\n    }\r\n\r\n    const onClickCancel = () => {\r\n        setModalVisible(false);\r\n    }\r\n\r\n    const formatted = format(timestamp, i18n.language);\r\n\r\n    const ownedByLoggedInUser = loggedInUser === username;\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"card p-1\">\r\n                <div className=\"d-flex\">\r\n                    <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" className=\"rounded-circle m-1\" />\r\n                    <div className=\"flex-fill m-auto pl-2\">\r\n                        <Link to={`/user/${username}`} className=\"text-dark\">\r\n                            <h6 className=\"d-inline\" >\r\n                                {displayName}@{username}\r\n                            </h6>\r\n                            <span> - </span>\r\n                            <span>{formatted}</span>\r\n                        </Link>\r\n                    </div>\r\n                    {ownedByLoggedInUser &&\r\n                        <button className=\"btn btn-delete-link btn-sm\" onClick={() => setModalVisible(true)}>\r\n                            <i className=\"material-icons\">delete_outline</i>\r\n                        </button>}\r\n                </div>\r\n                <div className=\"pl-5\">\r\n                    {content}\r\n                </div>\r\n                {fileAttachment && (\r\n                    <div className=\"pl-5\">\r\n                        {fileAttachment.fileType.startsWith('image') &&\r\n                            <img className=\"img-fluid\" src={'images/attachments/' + fileAttachment.name} alt={content} />\r\n                        }\r\n                        {!fileAttachment.fileType.startsWith('image') &&\r\n                            <strong>Hoax has unknown attachment</strong>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <Modal\r\n                visible={modalVisible}\r\n                onClickConfirm={onClickDelete}\r\n                onClickCancel={onClickCancel}\r\n                pendingApiCall={pendingApiCall}\r\n                title={t(\"Delete Hoax\")}\r\n                confirmButton={t(\"Delete Hoax\")}\r\n                message={\r\n                    <div>\r\n                        <div><strong>{t(\"Are you sure to delete hoax?\")}</strong></div>\r\n                        <span>{content}</span>\r\n                    </div>\r\n                } />\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default HoaxView;","import React from 'react';\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"d-flex justify-content-center\">\r\n            <div className=\"spinner-border text-black-50\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Spinner;","import React, { useEffect, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useParams } from 'react-router-dom';\r\nimport { getHoaxes, getOldHoaxes, getNewHoaxCount, getNewHoaxes } from '../api/apiCalls';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport HoaxView from './HoaxView'\r\nimport Spinner from './Spinner';\r\n\r\nconst HoaxFeed = () => {\r\n    const [hoaxPage, setHoaxPage] = useState({ content: [], last: true, number: 0 })\r\n    const [newHoaxCount, setNewHoaxCount] = useState(0);\r\n    const { t } = useTranslation();\r\n    const { username } = useParams();\r\n\r\n\r\n    const path = username ? `/api/1.0/users/${username}/hoaxes?page=` : '/api/1.0/hoaxes?page='\r\n    const initialHoaxLoadProgress = useApiProgress('get', path);\r\n\r\n    let lastHoaxId = 0;\r\n    let firstHoaxId = 0;\r\n    if (hoaxPage.content.length > 0) {\r\n        firstHoaxId = hoaxPage.content[0].id;\r\n        const lastHoaxIndex = hoaxPage.content.length - 1;\r\n        lastHoaxId = hoaxPage.content[lastHoaxIndex].id;\r\n    }\r\n    const oldHoaxPath = username ? `/api/1.0/users/${username}/hoaxes/${lastHoaxId}` : `/api/1.0/hoaxes/${lastHoaxId}`\r\n    const loadOldHoaxesProgress = useApiProgress('get', oldHoaxPath, true);\r\n\r\n    const newHoaxPath = username ? `/api/1.0/users/${username}/hoaxes/${firstHoaxId}?direction=after` : `/api/1.0/hoaxes/${firstHoaxId}?direction=after`\r\n    const loadNewHoaxesProgress = useApiProgress('get', newHoaxPath, true);\r\n\r\n\r\n    useEffect(() => {\r\n        const getCount = async () => {\r\n            const response = await getNewHoaxCount(firstHoaxId, username);\r\n            setNewHoaxCount(response.data.count);\r\n        }\r\n        let looper = setInterval(getCount, 1000);\r\n        return function cleanup() {\r\n            clearInterval(looper);\r\n        }\r\n    }, [firstHoaxId, username]);\r\n\r\n    useEffect(() => {\r\n        const loadHoaxes = async (page) => {\r\n            try {\r\n                const response = await getHoaxes(username, page);\r\n                setHoaxPage(previousHoaxPage => ({\r\n                    ...response.data,\r\n                    content: [...previousHoaxPage.content, ...response.data.content]\r\n                }));\r\n            } catch (error) { }\r\n        }\r\n        loadHoaxes();\r\n    }, [username]);\r\n\r\n\r\n    const loadOldHoaxes = async () => {\r\n        const response = await getOldHoaxes(lastHoaxId, username);\r\n        setHoaxPage(previousHoaxPage => ({\r\n            ...response.data,\r\n            content: [...previousHoaxPage.content, ...response.data.content]\r\n        }));\r\n    }\r\n\r\n    const loadNewHoaxes = async () => {\r\n        const response = await getNewHoaxes(firstHoaxId, username);\r\n        setHoaxPage(previousHoaxPage => ({\r\n            ...previousHoaxPage,\r\n            content: [...response.data, ...previousHoaxPage.content]\r\n        }));\r\n        setNewHoaxCount(0);\r\n    }\r\n\r\n    const onDeleteHoaxSuccess = id => {\r\n        setHoaxPage(previousHoaxPage => ({\r\n            ...previousHoaxPage,\r\n            content: previousHoaxPage.content.filter(hoax => hoax.id !== id)\r\n        }))\r\n    }\r\n\r\n\r\n    const { content, last } = hoaxPage;\r\n\r\n    if (content.length === 0) {\r\n        return <div className=\"alert alert-secondary text-center\">{initialHoaxLoadProgress ? <Spinner /> : t(\"There are no hoaxes\")}</div>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {newHoaxCount > 0 && (<div className=\"alert alert-secondary text-center mb-1\" style={{ cursor: loadNewHoaxesProgress ? \"not-allowed\" : \"pointer\" }} onClick={loadNewHoaxesProgress ? () => { } : () => loadNewHoaxes()}>{loadNewHoaxesProgress ? <Spinner /> : t(\"There are new hoaxes\")}</div>)}\r\n            {content.map(hoax => {\r\n                return <HoaxView key={hoax.id} hoax={hoax} onDeleteHoax={onDeleteHoaxSuccess}/>\r\n            })}\r\n            {!last && <div className=\"alert alert-secondary text-center\" style={{ cursor: loadOldHoaxesProgress ? \"not-allowed\" : \"pointer\" }} onClick={loadOldHoaxesProgress ? () => { } : loadOldHoaxes}>\r\n                {loadOldHoaxesProgress ? <Spinner /> : t(\"Load old hoaxes\")}\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HoaxFeed;","import React from 'react';\r\nimport './AutoUploadImage.css'\r\n\r\nconst AutoUploadImage = ({ image, uploading }) => {\r\n    return (\r\n        <div style={{ position: \"relative\" }}>\r\n            <img className=\"img-thumbnail\" src={image} alt=\"hoax-attachment\" />\r\n            <div className=\"overlay\" style={{ opacity: uploading ? 1 : 0 }}>\r\n                <div className=\"d-flex justify-content-center h-100\">\r\n                    <div className=\"spinner-border text-light m-auto\">\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AutoUploadImage;","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport { useTranslation } from 'react-i18next'\r\nimport { postHoax, postHoaxAttachment } from '../api/apiCalls'\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\nimport Input from './Input'\r\nimport AutoUploadImage from './AutoUploadImage';\r\n\r\nconst HoaxSubmit = () => {\r\n    const { image } = useSelector((store) => ({ image: store.image }))\r\n    const [focused, setFocused] = useState(false);\r\n    const [hoax, setHoax] = useState('');\r\n    const [errors, setErrors] = useState({})\r\n    const [newImage, setNewImage] = useState();\r\n    const [attachmentId, setAttachmentId] = useState();\r\n    const { t } = useTranslation();\r\n\r\n    useEffect(() => {\r\n        if (!focused) {\r\n            setHoax('')\r\n            setErrors({})\r\n            setNewImage();\r\n            setAttachmentId();\r\n        }\r\n    }, [focused])\r\n\r\n    useEffect(() => {\r\n        setErrors({});\r\n    }, [hoax])\r\n\r\n    const pendingApiCall = useApiProgress('post', '/api/1.0/hoaxes', true);\r\n    const pendingFileUpload = useApiProgress('post', '/api/1.0/hoax-attachments', true);\r\n\r\n    const onClickHoaxify = async () => {\r\n        const body = {\r\n            content: hoax,\r\n            attachmentId: attachmentId\r\n        }\r\n        try {\r\n            await postHoax(body);\r\n            setFocused(false)\r\n        } catch (error) {\r\n            if (error.response.data.validationErrors) {\r\n                setErrors(error.response.data.validationErrors)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onChangeFile = (event) => {\r\n        if (event.target.files.length < 1) {\r\n            return;\r\n        }\r\n        const file = event.target.files[0];\r\n        const fileReader = new FileReader();\r\n        fileReader.onloadend = () => {\r\n            setNewImage(fileReader.result);\r\n            uploadFile(file);\r\n        }\r\n        fileReader.readAsDataURL(file);\r\n    }\r\n\r\n    const uploadFile = async (file) => {\r\n        const attachment = new FormData();\r\n        attachment.append('file', file)\r\n        const response = await postHoaxAttachment(attachment);\r\n        setAttachmentId(response.data.id);\r\n    }\r\n\r\n    let textAreaClass = \"form-control\";\r\n    if (errors.content) {\r\n        textAreaClass += \" is-invalid\";\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"card p-1 flex-row\">\r\n            <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" className=\"rounded-circle mr-1\" />\r\n            <div className=\"flex-fill\">\r\n                <textarea className={textAreaClass} rows={focused ? \"3\" : \"1\"} onFocus={() => setFocused(true)} onChange={(event) => setHoax(event.target.value)} value={hoax} />\r\n                <div className=\"invalid-feedback\">{errors.content}</div>\r\n                {focused &&\r\n                    <Fragment>\r\n                        {!newImage && <Input type=\"file\" onChange={onChangeFile} uploading={pendingFileUpload} />}\r\n                        {newImage && <AutoUploadImage image={newImage} uploading={pendingFileUpload} />}\r\n                        <div className=\"text-right mt-1\">\r\n                            <ButtonWithProgress className=\"btn btn-primary\" onClick={onClickHoaxify} text=\"Hoaxify\" pendingApiCall={pendingApiCall} disabled={pendingApiCall || pendingFileUpload} />\r\n                            <button className=\"btn btn-light d-inline-flex ml-1\" onClick={() => setFocused(false)} disabled={pendingApiCall || pendingFileUpload}>\r\n                                <i className=\"material-icons\">close</i>\r\n                                {t(\"Cancel\")}\r\n                            </button>\r\n                        </div>\r\n                    </Fragment>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HoaxSubmit;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault'\r\n\r\nconst UserListItem = (props) => {\r\n    const { user } = props;\r\n    const { username, displayName, image } = user;\r\n\r\n    return (\r\n        <Link to={`/user/${username}`} className=\"list-group-item list-group-item-action\">\r\n            <ProfileImageWithDefault className=\"rounded-circle\" width=\"32\" height=\"32\" alt={`${username} profile`} image={image} />\r\n            <span className=\"pl-2\"> {displayName}@{username}</span>\r\n        </Link>\r\n\r\n    );\r\n};\r\n\r\nexport default UserListItem;","import React, { useEffect, useState } from 'react'\r\nimport { getUsers } from '../api/apiCalls'\r\nimport { useTranslation } from 'react-i18next'\r\nimport UserListItem from './UserListItem'\r\nimport { useApiProgress } from '../shared/ApiProgress'\r\nimport Spinner from './Spinner'\r\n\r\nconst UserList = () => {\r\n    const [page, setPage] = useState({\r\n        content: [],\r\n        size: 3,\r\n        number: 0\r\n    });\r\n    const [loadFailure, setLoadFailure] = useState(false);\r\n\r\n    const pendingApiCall = useApiProgress('get', '/api/1.0/users?page');\r\n\r\n    useEffect(() => {\r\n        laodUsers();\r\n    }, [])\r\n\r\n    const onClickNext = () => {\r\n        const nextPage = page.number + 1;\r\n        laodUsers(nextPage)\r\n    }\r\n\r\n    const onClickPrevious = () => {\r\n        const previousPage = page.number - 1;\r\n        laodUsers(previousPage)\r\n    }\r\n\r\n    const laodUsers = async page => {\r\n        setLoadFailure(false);\r\n        try {\r\n            const response = await getUsers(page)\r\n            setPage(response.data);\r\n        } catch (error) {\r\n            setLoadFailure(true);\r\n        }\r\n    }\r\n\r\n    const { t } = useTranslation();\r\n    const { content: users, last, first } = page;\r\n\r\n    let actionDiv = (\r\n        <div>\r\n            {first === false && <button className=\"btn btn-sm btn-light\" onClick={onClickPrevious}>{t('Previous')}</button>}\r\n            {last === false && <button className=\"btn btn-sm btn-light float-right\" onClick={onClickNext}>{t('Next')}</button>}\r\n        </div>\r\n    );\r\n\r\n    if (pendingApiCall) {\r\n        actionDiv = (\r\n            <Spinner />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <h3 className=\"card-header text-center\">{t('Users')}</h3>\r\n            <div className=\"list-group-flush\">\r\n                {users.map(user => (\r\n                    <UserListItem key={user.username} user={user} />\r\n                ))}\r\n            </div>\r\n            {actionDiv}\r\n            {loadFailure && <div className=\"text-center text-danger\">{t('Load Failure')}</div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserList;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport HoaxFeed from '../components/HoaxFeed';\r\nimport HoaxSubmit from '../components/HoaxSubmit';\r\nimport UserList from '../components/UserList';\r\n\r\nconst HomePage = () => {\r\n    const { isLoggedIn } = useSelector(store => ({ isLoggedIn: store.isLoggedIn }))\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    {isLoggedIn &&\r\n                        <div className=\"mb-1\">\r\n                            <HoaxSubmit />\r\n                        </div>}\r\n                    <HoaxFeed />\r\n                </div>\r\n                <div className=\"col\">\r\n                    <UserList />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HomePage;","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault'\r\nimport { useTranslation } from 'react-i18next'\r\nimport Input from '../components/Input'\r\nimport { updateUser, deleteUser } from '../api/apiCalls'\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\nimport { logoutSuccess, updateSuccess } from '../redux/authActions'\r\nimport Modal from './Modal';\r\n\r\nconst ProfileCard = (props) => {\r\n    const [inEditMode, setInEditMode] = useState(false);\r\n    const [updatedDisplayName, setUpdatedDisplayName] = useState();\r\n    const { username: loggedInUsername } = useSelector(store => ({ username: store.username }));\r\n    const routeParams = useParams();\r\n    const pathUsername = routeParams.username;\r\n    const [user, setUser] = useState({});\r\n    const [editable, setEditable] = useState(false);\r\n    const [newImage, setNewImage] = useState();\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [validationErrors, setValidationErrors] = useState({});\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const { username, displayName, image } = user;\r\n    const pendingApiCallDeleteUser = useApiProgress('delete', `/api/1.0/users/${username}`, true);\r\n    const { t } = useTranslation();\r\n\r\n    useEffect(() => {\r\n        setUser(props.user);\r\n    }, [props.user])\r\n\r\n    useEffect(() => {\r\n        setEditable(pathUsername === loggedInUsername)\r\n    }, [pathUsername, loggedInUsername])\r\n\r\n    useEffect(() => {\r\n        if (!inEditMode) {\r\n            setUpdatedDisplayName(undefined);\r\n            setNewImage(undefined);\r\n        } else {\r\n            setUpdatedDisplayName(displayName);\r\n        }\r\n    }, [inEditMode, displayName]);\r\n\r\n    useEffect(() => {\r\n        setValidationErrors(previousValidationErrors => ({ ...previousValidationErrors, displayName: undefined }));\r\n    }, [updatedDisplayName])\r\n\r\n    useEffect(() => {\r\n        setValidationErrors(previousValidationErrors => ({ ...previousValidationErrors, image: undefined }));\r\n    }, [newImage])\r\n\r\n\r\n    const onChangeFile = (event) => {\r\n        if (event.target.files.length < 1) {\r\n            return;\r\n        }\r\n        const file = event.target.files[0];\r\n        const fileReader = new FileReader();\r\n        fileReader.onloadend = () => {\r\n            setNewImage(fileReader.result);\r\n        }\r\n        fileReader.readAsDataURL(file);\r\n    }\r\n\r\n    const onClickSave = async () => {\r\n        let image;\r\n        if (newImage) {\r\n            image = newImage.split(',')[1];\r\n        }\r\n        const body = { displayName: updatedDisplayName, image };\r\n        try {\r\n            const response = await updateUser(username, body);\r\n            setInEditMode(false);\r\n            setUser(response.data);\r\n            dispatch(updateSuccess(response.data))\r\n        } catch (error) {\r\n            setValidationErrors(error.response.data.validationErrors);\r\n        }\r\n    }\r\n\r\n    const onClickCancel = () => {\r\n        setModalVisible(false);\r\n    }\r\n\r\n    const onClickDeleteUser = async () => {\r\n        await deleteUser(username);\r\n        setModalVisible(false);\r\n        dispatch(logoutSuccess());\r\n        history.push('/');\r\n    }\r\n\r\n    const pendingApiCall = useApiProgress('put', '/api/1.0/users/' + username);\r\n\r\n    const { displayName: displayNameError, image: imageError } = validationErrors;\r\n\r\n    return (\r\n        <div className=\"card text-center\">\r\n            <div className=\"card-header\">\r\n                <ProfileImageWithDefault className=\"rounded-circle shadow\" width=\"200\" height=\"200\" alt={`${username} profile`} image={image} tempimage={newImage} />\r\n            </div>\r\n            <div className=\"card-body\">\r\n                {!inEditMode &&\r\n                    <Fragment>\r\n                        <h3>{displayName}@{username}</h3>\r\n                        {editable &&\r\n                            <Fragment>\r\n                                <button className=\"btn btn-success d-inline-flex\" onClick={() => setInEditMode(true)}>\r\n                                    <i className=\"material-icons\">edit</i>\r\n                                    {t('Edit')}\r\n                                </button>\r\n                                <div className=\"pt-2\">\r\n                                    <button className=\"btn btn-danger d-inline-flex\" onClick={() => setModalVisible(true)}>\r\n                                        <i className=\"material-icons\">directions_run</i>\r\n                                        {t('Delete My Account')}\r\n                                    </button>\r\n                                </div>\r\n                            </Fragment>\r\n                        }\r\n                    </Fragment>\r\n                }\r\n                {inEditMode &&\r\n                    <div>\r\n                        <Input label={t(\"Change Display Name\")} defaultValue={displayName} onChange={event => { setUpdatedDisplayName(event.target.value) }} error={displayNameError} />\r\n                        <Input type=\"file\" onChange={onChangeFile} error={imageError} />\r\n                        <div>\r\n                            {<ButtonWithProgress\r\n                                className=\"btn btn-primary d-inline-flex\"\r\n                                onClick={onClickSave}\r\n                                disabled={pendingApiCall}\r\n                                pendingApiCall={pendingApiCall}\r\n                                text={\r\n                                    <Fragment>\r\n                                        <i className=\"material-icons\">save</i>\r\n                                        {t(\"Save\")}\r\n                                    </Fragment>\r\n                                }>\r\n                            </ButtonWithProgress>}\r\n                            <button className=\"btn btn-light d-inline-flex ml-1\" onClick={() => setInEditMode(false)} disabled={pendingApiCall}>\r\n                                <i className=\"material-icons\">close</i>\r\n                                {t(\"Cancel\")}\r\n                            </button>\r\n\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n            <Modal\r\n                visible={modalVisible}\r\n                message={t('Are you sure to delete your account?')}\r\n                title={t('Delete My Account')}\r\n                confirmButton={t('Delete My Account')}\r\n                onClickCancel={onClickCancel}\r\n                onClickConfirm={onClickDeleteUser}\r\n                pendingApiCall={pendingApiCallDeleteUser}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileCard;","import React, { useEffect, useState } from 'react';\r\nimport ProfileCard from '../components/ProfileCard'\r\nimport { getUser } from '../api/apiCalls';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport Spinner from '../components/Spinner'\r\nimport HoaxFeed from '../components/HoaxFeed'\r\n\r\nconst UserPage = (props) => {\r\n    const [user, setUser] = useState({});\r\n    const [notFound, setNotFound] = useState(false);\r\n\r\n    const { username } = useParams();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const pendingApiCall = useApiProgress('get', '/api/1.0/users/' + username, true);\r\n\r\n    useEffect(() => {\r\n        setNotFound(false)\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        const loadUser = async () => {\r\n            try {\r\n                const response = await getUser(username);\r\n                setUser(response.data);\r\n            } catch (error) {\r\n                setNotFound(true);\r\n            }\r\n        }\r\n        loadUser();\r\n    }, [username]);\r\n\r\n    if (notFound) {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-danger text-center\">\r\n                    <div>\r\n                        <span className=\"material-icons\" style={{ fontSize: \"48px\" }}>error</span>\r\n                    </div>\r\n                    {t('User not found')}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (pendingApiCall || user.username !== username) {\r\n        return (\r\n            <Spinner />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <ProfileCard user={user} />\r\n\r\n                </div>\r\n                <div className=\"col\">\r\n                    <HoaxFeed />\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserPage;","export default __webpack_public_path__ + \"static/media/hoaxify.e76cb420.png\";","import React, { useEffect, useRef, useState } from 'react'\r\nimport logo from '../assets/hoaxify.png';\r\nimport { Link } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { logoutSuccess } from '../redux/authActions'\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\n\r\nconst TopBar = (props) => {\r\n    const { t } = useTranslation();\r\n    const { username, isLoggedIn, displayName, image } = useSelector(store => ({ isLoggedIn: store.isLoggedIn, username: store.username, displayName: store.displayName, image: store.image }));\r\n    const dispatch = useDispatch();\r\n    \r\n    \r\n    const onLogoutSuccess = () => {\r\n        dispatch(logoutSuccess());\r\n    }\r\n\r\n    const menuArea = useRef(null)\r\n\r\n    const [menuVisible, setMenuVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('click', menuClickTracker)\r\n        return () => {\r\n            document.removeEventListener('click', menuClickTracker)\r\n        }\r\n    }, [isLoggedIn])\r\n\r\n    const menuClickTracker = (event) => {\r\n        if (menuArea.current === null || !menuArea.current.contains(event.target)) {\r\n            setMenuVisible(false);\r\n        }\r\n    }\r\n\r\n    let links = (\r\n        <ul className=\"navbar-nav ml-auto\">\r\n            <li>\r\n                <Link className=\"nav-link\" to=\"/login\">{t(\"Login\")}</Link>\r\n\r\n            </li>\r\n            <li>\r\n                <Link className=\"nav-link\" to=\"/signup\">{t(\"Sign Up\")}</Link>\r\n            </li>\r\n        </ul>\r\n    )\r\n    if (isLoggedIn) {\r\n        let dropDownClass = \"dropdown-menu p-0 shadow\"\r\n        if (menuVisible) {\r\n            dropDownClass += \" show\"\r\n        }\r\n        links = (\r\n            <ul className=\"navbar-nav ml-auto\" ref={menuArea}>\r\n                <li className=\"nav-item dropdown\">\r\n                    <div className=\"d-flex\" style={{ cursor: \"pointer\" }} onClick={() => setMenuVisible(true)}>\r\n                        <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" className=\"rounded-circle m-auto\" />\r\n                        <span className=\"nav-link dropdown-toggle\"> {displayName}</span>\r\n                    </div>\r\n                    <div className={dropDownClass}>\r\n                        <Link className=\"dropdown-item d-flex p-2\" to={`/user/${username}`} onClick={() => setMenuVisible(false)}>\r\n                            <i className=\"material-icons text-info mr-2\">person</i>\r\n                            {t('My Profile')}\r\n                        </Link>\r\n                        <span className=\"dropdown-item d-flex p-2\" onClick={onLogoutSuccess} style={{ cursor: \"pointer\" }}>\r\n                            <i className=\"material-icons text-danger mr-2\">power_settings_new</i>\r\n                            {t(\"Logout\")}\r\n                        </span>\r\n                    </div>\r\n                </li>\r\n            </ul>)\r\n    }\r\n    return (\r\n        <div className=\"shadow-sm bg-light mb-2\">\r\n            <nav className=\"navbar navbar-light container navbar-expand\">\r\n                <Link className=\"navbar-brand\" to=\"/\">\r\n                    <img src={logo} width=\"60\" alt=\"HoaxifyLogo\" /> Hoaxify\r\n                </Link>\r\n                {links}\r\n            </nav>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default TopBar;","import React from 'react';\r\nimport UserSignupPage from '../pages/UserSignupPage';\r\nimport LoginPage from '../pages/LoginPage';\r\nimport LanguageSelector from '../components/LanguageSelector';\r\nimport HomePage from '../pages/HomePage';\r\nimport UserPage from '../pages/UserPage';\r\nimport TopBar from '../components/TopBar';\r\nimport { HashRouter as Router, Route, Redirect, Switch } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst App = () => {\r\n  \r\n  const { isLoggedIn } = useSelector((store) => ({ isLoggedIn: store.isLoggedIn }))\r\n  \r\n  return (\r\n    <div>\r\n      <Router>\r\n        <TopBar />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={HomePage} />\r\n          {!isLoggedIn && <Route path=\"/login\" component={LoginPage} />}\r\n          <Route path=\"/signup\" component={UserSignupPage} />\r\n          <Route path=\"/user/:username\" component={UserPage} />\r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n      </Router>\r\n      <LanguageSelector />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","import * as ACTIONS from './Constants';\r\n\r\nconst defaultState = {\r\n    isLoggedIn: false,\r\n    username: undefined,\r\n    displayName: undefined,\r\n    image: undefined,\r\n    password: undefined\r\n}\r\n\r\n\r\nconst authReducer = (state = { ...defaultState }, action) => {\r\n    if (action.type === ACTIONS.LOGOUT_SUCCESS) {\r\n        return defaultState;\r\n    } else if (action.type === ACTIONS.LOGIN_SUCCESS) {\r\n        return {\r\n            ...action.payload,\r\n            isLoggedIn: true\r\n        }\r\n    } else if (action.type === ACTIONS.UPDATE_SUCCESS) {\r\n        return {\r\n            ...state,\r\n            ...action.payload\r\n        }\r\n    }\r\n    return state;\r\n};\r\n\r\nexport default authReducer;","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunk from 'redux-thunk';\r\nimport authReducer from './authReducer'\r\nimport SecureLS from 'secure-ls';\r\nimport { setAuthorizationHeader } from '../api/apiCalls';\r\n\r\nconst secureLs = new SecureLS();\r\n\r\nconst getStateFromStorage = () => {\r\n    const hoaxAuth = secureLs.get('hoax-auth');\r\n\r\n    let stateInLocalStorage = {\r\n        isLoggedIn: false,\r\n        username: undefined,\r\n        displayName: undefined,\r\n        image: undefined,\r\n        password: undefined\r\n    }\r\n\r\n    if (hoaxAuth) {\r\n        return hoaxAuth;\r\n    }\r\n\r\n    return stateInLocalStorage;\r\n\r\n}\r\n\r\nconst updateStateInStorage = newState => {\r\n    secureLs.set('hoax-auth', newState);\r\n\r\n}\r\n\r\nconst configureStore = () => {\r\n    const initialState = getStateFromStorage();\r\n    setAuthorizationHeader(initialState);\r\n    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n    const store = createStore(authReducer, initialState, composeEnhancers(applyMiddleware(thunk)));\r\n\r\n    store.subscribe(() => {\r\n        updateStateInStorage(store.getState())\r\n        setAuthorizationHeader(store.getState());\r\n    });\r\n\r\n    return store;\r\n}\r\n\r\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './bootstrap-override.scss';\nimport reportWebVitals from './reportWebVitals';\nimport './i18n';\nimport App from './container/App'\nimport { Provider } from 'react-redux'\nimport configureStore from './redux/configureStore';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}