(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{55:function(e,t,n){},56:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n(24),r=n.n(s),i=(n(55),n(56),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))}),o=n(34),l=n(23),u=n(28);o.a.use(l.e).init({resources:{en:{translations:{"Sign Up":"Sign Up","Password mismatch":"Password mismatch",Username:"Username","Display Name":"Display Name",Password:"Password","Password Repeat":"Password Repeat",Login:"Login",Logout:"Logout",Users:"Users",Next:"next >",Previous:"< previous","Load Failure":"Load Failure","User not found":"User not found",Edit:"Edit",Save:"Save",Cancel:"Cancel","Change Display Name":"Change Display Name","My Profile":"My Profile","There are no hoaxes":"There are no hoaxes","Load old hoaxes":"Load old hoaxes","There are new hoaxes":"There are new hoaxes","Delete Hoax":"Delete Hoax","Are you sure to delete hoax?":"Are you sure to delete hoax?","Delete My Account":"Delete My Account","Are you sure to delete your account?":"Are you sure to delete your account?"}},tr:{translations:{"Sign Up":"Kay\u0131t Ol","Password mismatch":"Ayn\u0131 \u015fifreyi giriniz",Username:"Kullan\u0131c\u0131 Ad\u0131","Display Name":"Tercih Edilen Ad",Password:"\u015eifre","Password Repeat":"\u015eifre Tekrar",Login:"Giri\u015f",Logout:"\xc7\u0131k\u0131\u015f",Users:"Kullan\u0131c\u0131lar",Next:"sonraki >",Previous:"< \xf6nceki","Load Failure":"Liste al\u0131namad\u0131","User not found":"Kullan\u0131c\u0131 bulunamad\u0131",Edit:"D\xfczenle",Save:"Kaydet",Cancel:"\u0130ptal","Change Display Name":"G\xf6r\xfcn\xfcr \u0130sminizi De\u011fi\u015ftirin","My Profile":"Hesab\u0131m","There are no hoaxes":"Hoax bulunamad\u0131","Load old hoaxes":"Ge\xe7mi\u015f Hoaxlar\u0131 getir","There are new hoaxes":"Yeni hoaxlar var","Delete Hoax":"Hoax'u sil","Are you sure to delete hoax?":"Hoax'u silmek istedi\u011finizden emin misiniz?","Delete My Account":"Hesab\u0131m\u0131 sil","Are you sure to delete your account?":"Hesab\u0131n\u0131z\u0131 silmek istedi\u011finizden emin misiniz?"}}},fallbackLng:"tr",ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});Object(u.b)("tr",(function(e,t){return[["az \xf6nce","\u015fimdi"],["%s saniye \xf6nce","%s saniye i\xe7inde"],["1 dakika \xf6nce","1 dakika i\xe7inde"],["%s dakika \xf6nce","%s dakika i\xe7inde"],["1 saat \xf6nce","1 saat i\xe7inde"],["%s saat \xf6nce","%s saat i\xe7inde"],["1 g\xfcn \xf6nce","1 g\xfcn i\xe7inde"],["%s g\xfcn \xf6nce","%s g\xfcn i\xe7inde"],["1 hafta \xf6nce","1 hafta i\xe7inde"],["%s hafta \xf6nce","%s hafta i\xe7inde"],["1 ay \xf6nce","1 ay i\xe7inde"],["%s ay \xf6nce","%s ay i\xe7inde"],["1 y\u0131l \xf6nce","1 y\u0131l i\xe7inde"],["%s y\u0131l \xf6nce","%s y\u0131l i\xe7inde"]][t]}));o.a;var d=n(2),j=n.n(d),b=n(6),p=n(20),m=n(4),f=n(3),h=function(e){var t=e.label,n=e.error,c=e.name,s=e.onChange,r=e.type,i=e.defaultValue,o="form-control";return"file"===r&&(o+="-file"),void 0!==n&&(o+=" is-invalid"),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:t}),Object(a.jsx)("input",{className:o,name:c,onChange:s,type:r,defaultValue:i}),Object(a.jsx)("div",{className:"invalid-feedback",children:n})]})},O=n(87),x=function(e){var t=e.onClick,n=e.pendingApiCall,c=e.disabled,s=e.text,r=e.className;return Object(a.jsxs)("button",{className:r||"btn btn-primary",onClick:t,disabled:c,children:[n&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm"}),s]})},v=n(7),g=n.n(v),N=function(e,t,n){var a=Object(c.useState)(!1),s=Object(f.a)(a,2),r=s[0],i=s[1];return Object(c.useEffect)((function(){var a,c,s=function(a,c,s){a===e&&(n&&c===t&&i(s),!n&&c.startsWith(t)&&i(s))};return a=g.a.interceptors.request.use((function(e){var t=e.url,n=e.method;return s(n,t,!0),e})),c=g.a.interceptors.response.use((function(e){var t=e.config,n=t.url,a=t.method;return s(a,n,!1),e}),(function(e){var t=e.config,n=t.url,a=t.method;throw s(a,n,!1),e})),function(){g.a.interceptors.request.eject(a),g.a.interceptors.response.eject(c)}}),[t,e,n]),r},y=n(9),w="logout-success",k="login-success",C="update-success",S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return g.a.get("/api/1.0/users?page=".concat(e,"&size=").concat(t))},L=function(e){var t=e.isLoggedIn,n=e.token;if(t){var a="Bearer ".concat(n);g.a.defaults.headers.Authorization=a}else delete g.a.defaults.headers.Authorization},E=function(e){return g.a.get("/api/1.0/users/".concat(e))},A=function(e,t){return g.a.put("/api/1.0/users/".concat(e),t)},D=function(e){return g.a.post("/api/1.0/hoaxes",e)},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e?"/api/1.0/users/".concat(e,"/hoaxes?page="):"/api/1.0/hoaxes?page=";return g.a.get(n+t)},U=function(e,t){var n=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e):"/api/1.0/hoaxes/".concat(e);return g.a.get(n)},F=function(e,t){var n=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e,"?count=true"):"/api/1.0/hoaxes/".concat(e,"?count=true");return g.a.get(n)},I=function(e,t){var n=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e,"?direction=after"):"/api/1.0/hoaxes/".concat(e,"?direction=after");return g.a.get(n)},H=function(e){return g.a.post("/api/1.0/hoax-attachments",e)},T=function(e){return g.a.delete("/api/1.0/hoaxes/".concat(e))},z=function(e){return g.a.delete("/api/1.0/users/".concat(e))},R=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/1.0/logout");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:t({type:w});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},M=function(e){return{type:k,payload:e}},_=function(e){var t=e.displayName,n=e.image;return{type:C,payload:{displayName:t,image:n}}},B=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s=e,g.a.post("/api/1.0/auth",s);case 2:return a=t.sent,c=Object(m.a)(Object(m.a)({},a.data.user),{},{password:e.password,token:a.data.token}),n(M(c)),t.abrupt("return",a);case 6:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c=e,g.a.post("/api/1.0/users",c);case 2:return a=t.sent,t.next=5,n(B(e));case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},V=function(e){var t,n=Object(y.b)(),s=Object(c.useState)({username:null,displayName:null,password:null,passwordRepeat:null}),r=Object(f.a)(s,2),i=r[0],o=r[1],l=Object(c.useState)({}),u=Object(f.a)(l,2),d=u[0],v=u[1],g=function(e){var t=e.target,n=t.name,a=t.value;v((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},n,void 0))})),o((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},n,a))}))},w=function(){var t=Object(b.a)(j.a.mark((function t(a){var c,s,r,o,l,u;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),c=i.username,s=i.displayName,r=i.password,o=e.history,l=o.push,u={username:c,displayName:s,password:r},t.prev=5,t.next=8,n(K(u));case 8:l("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),t.t0.response.data.validationErrors&&v(t.t0.response.data.validationErrors);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),k=Object(O.a)().t,C=d.username,S=d.displayName,L=d.password,E=N("post","/api/1.0/users"),A=N("post","/api/1.0/auth"),D=E||A;return i.password!==i.passwordRepeat&&(t=k("Password mismatch")),Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("form",{children:[Object(a.jsx)("h1",{className:"text-center",children:k("Sign Up")}),Object(a.jsx)(h,{name:"username",label:k("Username"),error:C,onChange:g}),Object(a.jsx)(h,{name:"displayName",label:k("Display Name"),error:S,onChange:g}),Object(a.jsx)(h,{name:"password",label:k("Password"),error:L,onChange:g,type:"password"}),Object(a.jsx)(h,{name:"passwordRepeat",label:k("Password Repeat"),error:t,onChange:g,type:"password"}),Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)(x,{onClick:w,disabled:D||void 0!==t,pendingApiCall:D,text:k("Sign Up")})})]})})},G=function(e){var t=Object(c.useState)(),n=Object(f.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(),o=Object(f.a)(i,2),l=o[0],u=o[1],d=Object(c.useState)(),p=Object(f.a)(d,2),m=p[0],v=p[1],g=Object(y.b)();Object(c.useEffect)((function(){v(void 0)}),[s,l]);var w=function(){var t=Object(b.a)(j.a.mark((function t(n){var a,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={username:s,password:l},c=e.history,r=c.push,v(void 0),t.prev=5,t.next=8,g(B(a));case 8:r("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),v(t.t0.response.data.message);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),k=Object(O.a)().t,C=N("post","/api/1.0/auth"),S=s&&l;return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("form",{children:[Object(a.jsx)("h1",{className:"text-center",children:k("Login")}),Object(a.jsx)(h,{label:k("Username"),onChange:function(e){r(e.target.value)}}),Object(a.jsx)(h,{label:k("Password"),type:"password",onChange:function(e){u(e.target.value)}}),m&&Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:m}),Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)(x,{onClick:w,disabled:!S||C,pendingApiCall:C,text:k("Login")})})]})})},W=function(e){var t=Object(O.a)().i18n,n=function(e){t.changeLanguage(e),function(e){g.a.defaults.headers["accept-language"]=e}(e)};return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("img",{src:"https://www.countryflags.io/tr/flat/24.png",alt:"Turkish Flag",onClick:function(){return n("tr")},style:{cursor:"pointer"}}),Object(a.jsx)("img",{src:"https://www.countryflags.io/us/flat/24.png",alt:"USA Flag",onClick:function(){return n("en")},style:{cursor:"pointer"}})]})},q=n(17),J=n(8),X=n.p+"static/media/profile.06c30927.png",Y=function(e){var t=e.image,n=e.tempimage,c=X;return t&&(c="images/profile/"+t),Object(a.jsx)("img",Object(m.a)(Object(m.a)({alt:"Profile",src:n||c},e),{},{onError:function(e){e.target.src=X}}))},Q=n(10),Z=function(e){var t=e.visible,n=e.onClickCancel,c=e.message,s=e.onClickConfirm,r=e.pendingApiCall,i=e.title,o=e.confirmButton,l=Object(O.a)().t,u="modal fade";return t&&(u+=" show d-block"),Object(a.jsx)("div",{className:u,style:{backgroundColor:"#000000b0"},children:Object(a.jsx)("div",{className:"modal-dialog",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsx)("div",{className:"modal-header",children:Object(a.jsx)("h5",{className:"modal-title",children:i})}),Object(a.jsx)("div",{className:"modal-body",children:c}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:n,children:l("Cancel")}),Object(a.jsx)(x,{type:"button",className:"btn btn-danger",onClick:s,pendingApiCall:r,disabled:r,text:o})]})]})})})},$=function(e){var t=Object(y.c)((function(e){return e.username})),n=e.hoax,s=e.onDeleteHoax,r=n.user,i=n.content,o=n.timestamp,l=n.fileAttachment,d=n.id,p=r.username,m=r.displayName,h=r.image,x=Object(c.useState)(!1),v=Object(f.a)(x,2),g=v[0],w=v[1],k=N("delete","/api/1.0/hoaxes/".concat(d),!0),C=Object(O.a)(),S=C.i18n,L=C.t,E=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(d);case 2:s(d);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=Object(u.a)(o,S.language),D=t===p;return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)("div",{className:"card p-1",children:[Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)(Y,{image:h,width:"32",height:"32",className:"rounded-circle m-1"}),Object(a.jsx)("div",{className:"flex-fill m-auto pl-2",children:Object(a.jsxs)(Q.b,{to:"/user/".concat(p),className:"text-dark",children:[Object(a.jsxs)("h6",{className:"d-inline",children:[m,"@",p]}),Object(a.jsx)("span",{children:" - "}),Object(a.jsx)("span",{children:A})]})}),D&&Object(a.jsx)("button",{className:"btn btn-delete-link btn-sm",onClick:function(){return w(!0)},children:Object(a.jsx)("i",{className:"material-icons",children:"delete_outline"})})]}),Object(a.jsx)("div",{className:"pl-5",children:i}),l&&Object(a.jsxs)("div",{className:"pl-5",children:[l.fileType.startsWith("image")&&Object(a.jsx)("img",{className:"img-fluid",src:"images/attachments/"+l.name,alt:i}),!l.fileType.startsWith("image")&&Object(a.jsx)("strong",{children:"Hoax has unknown attachment"})]})]}),Object(a.jsx)(Z,{visible:g,onClickConfirm:E,onClickCancel:function(){w(!1)},pendingApiCall:k,title:L("Delete Hoax"),confirmButton:L("Delete Hoax"),message:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("strong",{children:L("Are you sure to delete hoax?")})}),Object(a.jsx)("span",{children:i})]})})]})},ee=function(){return Object(a.jsx)("div",{className:"d-flex justify-content-center",children:Object(a.jsx)("div",{className:"spinner-border text-black-50",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})})},te=function(){var e=Object(c.useState)({content:[],last:!0,number:0}),t=Object(f.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(0),i=Object(f.a)(r,2),o=i[0],l=i[1],u=Object(O.a)().t,d=Object(J.h)().username,p=d?"/api/1.0/users/".concat(d,"/hoaxes?page="):"/api/1.0/hoaxes?page=",h=N("get",p),x=0,v=0;if(n.content.length>0){v=n.content[0].id;var g=n.content.length-1;x=n.content[g].id}var y=d?"/api/1.0/users/".concat(d,"/hoaxes/").concat(x):"/api/1.0/hoaxes/".concat(x),w=N("get",y,!0),k=d?"/api/1.0/users/".concat(d,"/hoaxes/").concat(v,"?direction=after"):"/api/1.0/hoaxes/".concat(v,"?direction=after"),C=N("get",k,!0);Object(c.useEffect)((function(){var e=setInterval(function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(v,d);case 2:t=e.sent,l(t.data.count);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),1e3);return function(){clearInterval(e)}}),[v,d]),Object(c.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(d,t);case 3:n=e.sent,s((function(e){return Object(m.a)(Object(m.a)({},n.data),{},{content:[].concat(Object(q.a)(e.content),Object(q.a)(n.data.content))})})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()()}),[d]);var S=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(x,d);case 2:t=e.sent,s((function(e){return Object(m.a)(Object(m.a)({},t.data),{},{content:[].concat(Object(q.a)(e.content),Object(q.a)(t.data.content))})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(v,d);case 2:t=e.sent,s((function(e){return Object(m.a)(Object(m.a)({},e),{},{content:[].concat(Object(q.a)(t.data),Object(q.a)(e.content))})})),l(0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){s((function(t){return Object(m.a)(Object(m.a)({},t),{},{content:t.content.filter((function(t){return t.id!==e}))})}))},A=n.content,D=n.last;return 0===A.length?Object(a.jsx)("div",{className:"alert alert-secondary text-center",children:h?Object(a.jsx)(ee,{}):u("There are no hoaxes")}):Object(a.jsxs)("div",{children:[o>0&&Object(a.jsx)("div",{className:"alert alert-secondary text-center mb-1",style:{cursor:C?"not-allowed":"pointer"},onClick:C?function(){}:function(){return L()},children:C?Object(a.jsx)(ee,{}):u("There are new hoaxes")}),A.map((function(e){return Object(a.jsx)($,{hoax:e,onDeleteHoax:E},e.id)})),!D&&Object(a.jsx)("div",{className:"alert alert-secondary text-center",style:{cursor:w?"not-allowed":"pointer"},onClick:w?function(){}:S,children:w?Object(a.jsx)(ee,{}):u("Load old hoaxes")})]})},ne=(n(85),function(e){var t=e.image,n=e.uploading;return Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("img",{className:"img-thumbnail",src:t,alt:"hoax-attachment"}),Object(a.jsx)("div",{className:"overlay",style:{opacity:n?1:0},children:Object(a.jsx)("div",{className:"d-flex justify-content-center h-100",children:Object(a.jsx)("div",{className:"spinner-border text-light m-auto",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})})})]})}),ae=function(){var e=Object(y.c)((function(e){return{image:e.image}})).image,t=Object(c.useState)(!1),n=Object(f.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(""),o=Object(f.a)(i,2),l=o[0],u=o[1],d=Object(c.useState)({}),p=Object(f.a)(d,2),m=p[0],v=p[1],g=Object(c.useState)(),w=Object(f.a)(g,2),k=w[0],C=w[1],S=Object(c.useState)(),L=Object(f.a)(S,2),E=L[0],A=L[1],P=Object(O.a)().t;Object(c.useEffect)((function(){s||(u(""),v({}),C(),A())}),[s]),Object(c.useEffect)((function(){v({})}),[l]);var U=N("post","/api/1.0/hoaxes",!0),F=N("post","/api/1.0/hoax-attachments",!0),I=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={content:l,attachmentId:E},e.prev=1,e.next=4,D(t);case 4:r(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.response.data.validationErrors&&v(e.t0.response.data.validationErrors);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.next=4,H(n);case 4:a=e.sent,A(a.data.id);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z="form-control";return m.content&&(z+=" is-invalid"),Object(a.jsxs)("div",{className:"card p-1 flex-row",children:[Object(a.jsx)(Y,{image:e,width:"32",height:"32",className:"rounded-circle mr-1"}),Object(a.jsxs)("div",{className:"flex-fill",children:[Object(a.jsx)("textarea",{className:z,rows:s?"3":"1",onFocus:function(){return r(!0)},onChange:function(e){return u(e.target.value)},value:l}),Object(a.jsx)("div",{className:"invalid-feedback",children:m.content}),s&&Object(a.jsxs)(c.Fragment,{children:[!k&&Object(a.jsx)(h,{type:"file",onChange:function(e){if(!(e.target.files.length<1)){var t=e.target.files[0],n=new FileReader;n.onloadend=function(){C(n.result),T(t)},n.readAsDataURL(t)}},uploading:F}),k&&Object(a.jsx)(ne,{image:k,uploading:F}),Object(a.jsxs)("div",{className:"text-right mt-1",children:[Object(a.jsx)(x,{className:"btn btn-primary",onClick:I,text:"Hoaxify",pendingApiCall:U,disabled:U||F}),Object(a.jsxs)("button",{className:"btn btn-light d-inline-flex ml-1",onClick:function(){return r(!1)},disabled:U||F,children:[Object(a.jsx)("i",{className:"material-icons",children:"close"}),P("Cancel")]})]})]})]})]})},ce=function(e){var t=e.user,n=t.username,c=t.displayName,s=t.image;return Object(a.jsxs)(Q.b,{to:"/user/".concat(n),className:"list-group-item list-group-item-action",children:[Object(a.jsx)(Y,{className:"rounded-circle",width:"32",height:"32",alt:"".concat(n," profile"),image:s}),Object(a.jsxs)("span",{className:"pl-2",children:[" ",c,"@",n]})]})},se=function(){var e=Object(c.useState)({content:[],size:3,number:0}),t=Object(f.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),i=Object(f.a)(r,2),o=i[0],l=i[1],u=N("get","/api/1.0/users?page");Object(c.useEffect)((function(){d()}),[]);var d=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!1),e.prev=1,e.next=4,S(t);case 4:n=e.sent,s(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),p=Object(O.a)().t,m=n.content,h=n.last,x=n.first,v=Object(a.jsxs)("div",{children:[!1===x&&Object(a.jsx)("button",{className:"btn btn-sm btn-light",onClick:function(){var e=n.number-1;d(e)},children:p("Previous")}),!1===h&&Object(a.jsx)("button",{className:"btn btn-sm btn-light float-right",onClick:function(){var e=n.number+1;d(e)},children:p("Next")})]});return u&&(v=Object(a.jsx)(ee,{})),Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h3",{className:"card-header text-center",children:p("Users")}),Object(a.jsx)("div",{className:"list-group-flush",children:m.map((function(e){return Object(a.jsx)(ce,{user:e},e.username)}))}),v,o&&Object(a.jsx)("div",{className:"text-center text-danger",children:p("Load Failure")})]})},re=function(){var e=Object(y.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn;return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:[e&&Object(a.jsx)("div",{className:"mb-1",children:Object(a.jsx)(ae,{})}),Object(a.jsx)(te,{})]}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(se,{})})]})})},ie=function(e){var t=Object(c.useState)(!1),n=Object(f.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(),o=Object(f.a)(i,2),l=o[0],u=o[1],d=Object(y.c)((function(e){return{username:e.username}})).username,p=Object(J.h)().username,v=Object(c.useState)({}),g=Object(f.a)(v,2),w=g[0],k=g[1],C=Object(c.useState)(!1),S=Object(f.a)(C,2),L=S[0],E=S[1],D=Object(c.useState)(),P=Object(f.a)(D,2),U=P[0],F=P[1],I=Object(c.useState)(!1),H=Object(f.a)(I,2),T=H[0],M=H[1],B=Object(c.useState)({}),K=Object(f.a)(B,2),V=K[0],G=K[1],W=Object(y.b)(),q=Object(J.g)(),X=w.username,Q=w.displayName,$=w.image,ee=N("delete","/api/1.0/users/".concat(X),!0),te=Object(O.a)().t;Object(c.useEffect)((function(){k(e.user)}),[e.user]),Object(c.useEffect)((function(){E(p===d)}),[p,d]),Object(c.useEffect)((function(){s?u(Q):(u(void 0),F(void 0))}),[s,Q]),Object(c.useEffect)((function(){G((function(e){return Object(m.a)(Object(m.a)({},e),{},{displayName:void 0})}))}),[l]),Object(c.useEffect)((function(){G((function(e){return Object(m.a)(Object(m.a)({},e),{},{image:void 0})}))}),[U]);var ne=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U&&(t=U.split(",")[1]),n={displayName:l,image:t},e.prev=2,e.next=5,A(X,n);case 5:a=e.sent,r(!1),k(a.data),W(_(a.data)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),G(e.t0.response.data.validationErrors);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(X);case 2:M(!1),W(R()),q.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=N("put","/api/1.0/users/"+X),se=V.displayName,re=V.image;return Object(a.jsxs)("div",{className:"card text-center",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)(Y,{className:"rounded-circle shadow",width:"200",height:"200",alt:"".concat(X," profile"),image:$,tempimage:U})}),Object(a.jsxs)("div",{className:"card-body",children:[!s&&Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)("h3",{children:[Q,"@",X]}),L&&Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)("button",{className:"btn btn-success d-inline-flex",onClick:function(){return r(!0)},children:[Object(a.jsx)("i",{className:"material-icons",children:"edit"}),te("Edit")]}),Object(a.jsx)("div",{className:"pt-2",children:Object(a.jsxs)("button",{className:"btn btn-danger d-inline-flex",onClick:function(){return M(!0)},children:[Object(a.jsx)("i",{className:"material-icons",children:"directions_run"}),te("Delete My Account")]})})]})]}),s&&Object(a.jsxs)("div",{children:[Object(a.jsx)(h,{label:te("Change Display Name"),defaultValue:Q,onChange:function(e){u(e.target.value)},error:se}),Object(a.jsx)(h,{type:"file",onChange:function(e){if(!(e.target.files.length<1)){var t=e.target.files[0],n=new FileReader;n.onloadend=function(){F(n.result)},n.readAsDataURL(t)}},error:re}),Object(a.jsxs)("div",{children:[Object(a.jsx)(x,{className:"btn btn-primary d-inline-flex",onClick:ne,disabled:ce,pendingApiCall:ce,text:Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)("i",{className:"material-icons",children:"save"}),te("Save")]})}),Object(a.jsxs)("button",{className:"btn btn-light d-inline-flex ml-1",onClick:function(){return r(!1)},disabled:ce,children:[Object(a.jsx)("i",{className:"material-icons",children:"close"}),te("Cancel")]})]})]})]}),Object(a.jsx)(Z,{visible:T,message:te("Are you sure to delete your account?"),title:te("Delete My Account"),confirmButton:te("Delete My Account"),onClickCancel:function(){M(!1)},onClickConfirm:ae,pendingApiCall:ee})]})},oe=function(e){var t=Object(c.useState)({}),n=Object(f.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(f.a)(i,2),l=o[0],u=o[1],d=Object(J.h)().username,p=Object(O.a)().t,m=N("get","/api/1.0/users/"+d,!0);return Object(c.useEffect)((function(){u(!1)}),[s]),Object(c.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(d);case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[d]),l?Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"alert alert-danger text-center",children:[Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"material-icons",style:{fontSize:"48px"},children:"error"})}),p("User not found")]})}):m||s.username!==d?Object(a.jsx)(ee,{}):Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(ie,{user:s})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(te,{})})]})})},le=n.p+"static/media/hoaxify.e76cb420.png",ue=function(e){var t=Object(O.a)().t,n=Object(y.c)((function(e){return{isLoggedIn:e.isLoggedIn,username:e.username,displayName:e.displayName,image:e.image}})),s=n.username,r=n.isLoggedIn,i=n.displayName,o=n.image,l=Object(y.b)(),u=Object(c.useRef)(null),d=Object(c.useState)(!1),j=Object(f.a)(d,2),b=j[0],p=j[1];Object(c.useEffect)((function(){return document.addEventListener("click",m),function(){document.removeEventListener("click",m)}}),[r]);var m=function(e){null!==u.current&&u.current.contains(e.target)||p(!1)},h=Object(a.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(a.jsx)("li",{children:Object(a.jsx)(Q.b,{className:"nav-link",to:"/login",children:t("Login")})}),Object(a.jsx)("li",{children:Object(a.jsx)(Q.b,{className:"nav-link",to:"/signup",children:t("Sign Up")})})]});if(r){var x="dropdown-menu p-0 shadow";b&&(x+=" show"),h=Object(a.jsx)("ul",{className:"navbar-nav ml-auto",ref:u,children:Object(a.jsxs)("li",{className:"nav-item dropdown",children:[Object(a.jsxs)("div",{className:"d-flex",style:{cursor:"pointer"},onClick:function(){return p(!0)},children:[Object(a.jsx)(Y,{image:o,width:"32",height:"32",className:"rounded-circle m-auto"}),Object(a.jsxs)("span",{className:"nav-link dropdown-toggle",children:[" ",i]})]}),Object(a.jsxs)("div",{className:x,children:[Object(a.jsxs)(Q.b,{className:"dropdown-item d-flex p-2",to:"/user/".concat(s),onClick:function(){return p(!1)},children:[Object(a.jsx)("i",{className:"material-icons text-info mr-2",children:"person"}),t("My Profile")]}),Object(a.jsxs)("span",{className:"dropdown-item d-flex p-2",onClick:function(){l(R())},style:{cursor:"pointer"},children:[Object(a.jsx)("i",{className:"material-icons text-danger mr-2",children:"power_settings_new"}),t("Logout")]})]})]})})}return Object(a.jsx)("div",{className:"shadow-sm bg-light mb-2",children:Object(a.jsxs)("nav",{className:"navbar navbar-light container navbar-expand",children:[Object(a.jsxs)(Q.b,{className:"navbar-brand",to:"/",children:[Object(a.jsx)("img",{src:le,width:"60",alt:"HoaxifyLogo"})," Hoaxify"]}),h]})})},de=function(){var e=Object(y.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn;return Object(a.jsxs)("div",{children:[Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(ue,{}),Object(a.jsxs)(J.d,{children:[Object(a.jsx)(J.b,{exact:!0,path:"/",component:re}),!e&&Object(a.jsx)(J.b,{path:"/login",component:G}),Object(a.jsx)(J.b,{path:"/signup",component:V}),Object(a.jsx)(J.b,{path:"/user/:username",component:oe}),Object(a.jsx)(J.a,{to:"/"})]})]}),Object(a.jsx)(W,{})]})},je=n(19),be=n(48),pe={isLoggedIn:!1,username:void 0,displayName:void 0,image:void 0,password:void 0},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)({},pe),t=arguments.length>1?arguments[1]:void 0;return t.type===w?pe:t.type===k?Object(m.a)(Object(m.a)({},t.payload),{},{isLoggedIn:!0}):t.type===C?Object(m.a)(Object(m.a)({},e),t.payload):e},fe=n(49),he=new(n.n(fe).a),Oe=function(){var e=he.get("hoax-auth")||{isLoggedIn:!1,username:void 0,displayName:void 0,image:void 0,password:void 0};L(e);var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.c,n=Object(je.d)(me,e,t(Object(je.a)(be.a)));return n.subscribe((function(){var e;e=n.getState(),he.set("hoax-auth",e),L(n.getState())})),n}();r.a.render(Object(a.jsx)(y.a,{store:Oe,children:Object(a.jsx)(de,{})}),document.getElementById("root")),i()}},[[86,1,2]]]);
//# sourceMappingURL=main.c76019ae.chunk.js.map